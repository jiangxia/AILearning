# Pattern | Claude都出4.5了，你还不懂扩展思考的推理革命

我们都知道，Claude的架构能力很强，他可以帮你设计一个高并发系统架构。

可问题是，同样一个架构，需要一整个开发团队，其中不乏有资历很深的架构师，花费数月甚至更长的时间才能打磨出来，而Claude，他一下子就可以搞定，他的质量能有保障麽？Claude到底有没深度思考，还是敷衍了事，随便丢出一个看似很专业的东西？

我相信，这个困惑很多人都有，“不经思考”的快，肯定是有代价的。好在Anthropic团队也注意到了这个问题，他们推出的扩展思考（Extended Thinking），就是为了让Claude像人类一样，有步骤地进行深度推理，并把完整的思考过程记录下来。

当然凡事都是有代价，这么做的前提，是你能接受平均156秒的等待，以及翻了3-5倍的API账单。那这钱和时间，到底花得值不值呢？

本文将彻底讲透扩展思考的推理革命，帮你搞清楚这3个核心问题：

1. 什么时候该用扩展思考？什么时候用了就是浪费钱？
2. 为什么开启扩展思考又贵又慢？
3. 使用扩展思考准确率提升多少？真的值得等吗？

---

## 一、扩展思考的本质：把黑盒打开，看见推理过程

扩展思考给了Claude一个"内部思考空间"——最多可以用64,000个thinking tokens来推理，然后才给出最终答案。关键是，这个思考过程是可见的。API返回的response里，会有独立的"thinking"块和"text"块，前者是思考过程，后者是最终答案。

这种透明性带来的不只是可解释性，更是质量的飞跃。在AIME 2024这种高难度数学竞赛题上，扩展思考拿到了80.0%的成绩，而Claude 3.5只有16.0%——从"勉强及格"到"接近满分"的质变。

为什么会有这么大的差距？因为复杂问题需要多步骤推理。比如你问Claude设计一个电商订单处理系统，标准模式给你一个"看起来合理"的方案，扩展思考给你一个"深思熟虑"的方案——它会系统性地分析瓶颈、评估架构模式、考虑容错机制，最后给出既满足当前需求又为未来预留空间的完整方案。

## 二、成本与速度的权衡：又贵又慢，但用对地方就值

扩展思考不是免费午餐。平均延迟156秒，也就是说你问一个问题，要等将近2分半。更要命的是成本——thinking过程会生成大量tokens（通常是正常输出的3-5倍），一次64K的深度推理就要花掉约$0.96，一天调用100次就烧掉$96。

所以，关键是用对地方。适合"一旦选错成本巨大"的决策——架构设计、复杂调试、算法优化，这些值得花2分钟等一个深思熟虑的方案。反过来，简单代码生成、文档翻译、格式转换，用标准模式就够了，让Claude深度思考"怎么写一个Hello World"纯属浪费。

至于thinking budget设多少？官方建议从1024起步，逐步增加到16000。特别复杂的任务可以给到64000，但记住budget是上限不是目标，Claude会根据问题复杂度自动调整，你设64K不代表它一定会用满。

如果你用Cursor，它把thinking budget包装成了四个层级：think（优化代码片段）、think hard（重构模块）、think harder（设计接口规范）、ultrathink（系统级架构）。实用策略是：日常开发用标准模式，只在遇到"硬骨头"时才切换到对应级别。

## 三、交错思维：在工具调用之间也能思考

扩展思考还支持一个强大功能：**交错思维（interleaved thinking）**。传统模式下，Claude要么先想完再调工具，要么调完工具直接给答案。但开启交错思维后（API加上beta header `interleaved-thinking-2025-05-14`），Claude可以在每次工具调用之间进行思考，根据工具返回的结果动态调整推理方向。

比如分析线上事故，它会"调日志→思考→调监控→再思考→调SQL分析→定位根因"，这种"工具→思考→工具→思考"的循环，远比一次性思考或盲目调用工具要高效。

---

## 快速解答

**Q1: 什么时候该用扩展思考？什么时候是浪费钱？**
A: 用在"一旦选错成本巨大"的决策上——系统架构设计、复杂问题调试、核心算法优化。不要用在简单代码生成、格式转换或快速问答上。核心策略：日常开发用标准模式，只在攻克关键难题时启用扩展思考。

**Q2: 为什么开启扩展思考又贵又慢？**
A: 平均延迟156秒，thinking过程产生的tokens是正常输出的3-5倍。按Sonnet 4.5每百万输出tokens $15计算，一次64K深度思考约$0.96。一天调用100次就烧$96。贵和慢的本质是：深度推理需要更多计算资源和时间。

**Q3: 准确率提升多少？真的值得等吗？**
A: AIME 2024竞赛题准确率从16.0%跃升至80.0%——5倍提升。对于简单任务，多等一秒都浪费；但对于需要深度推理的复杂决策，这种从"勉强及格"到"接近满分"的质变，完全值得等待。

---

## 深入交流

想要深入交流AI实践经验？添加微信，一起探讨AI时代的无限可能！

![微信二维码](assets/二维码.jpg)

> ### 关于本人 ｜ 黄彦湘
> 深耕互联网行业9年，专注前端开发技术方向，现为广州执业律师，同时兼备专利代理师资质。基于丰富的技术背景和法律实践经验，现为深度实践（Deepractice）社区核心贡献者，致力于推动AI深度实践在法律、小说创作等多元领域的创新应用与探索。
> **全网同名**：明易AI实践

---
